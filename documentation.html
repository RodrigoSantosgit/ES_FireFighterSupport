<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>FireFighter Support - DevOps</title>
  <meta content="" name="description">
  <meta content="" name="keywords">

  <!-- Favicons -->
  <link href="assets/img/favicon.png" rel="icon">
  <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/animate.css/animate.min.css" rel="stylesheet">
  <link href="assets/vendor/aos/aos.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
  <link href="assets/vendor/remixicon/remixicon.css" rel="stylesheet">
  <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">

  <!-- Template Main CSS File -->
  <link href="assets/css/style.css" rel="stylesheet">

  <!-- =======================================================
  * Template Name: Mentor - v4.1.0
  * Template URL: https://bootstrapmade.com/mentor-free-education-bootstrap-theme/
  * Author: BootstrapMade.com
  * License: https://bootstrapmade.com/license/
  ======================================================== -->
</head>

<body>

  <!-- ======= Header ======= -->
  <header id="header" class="fixed-top">
    <div class="container d-flex align-items-center">

      <h1 class="logo me-auto"><a href="index.html">FireFighter Support</a></h1>
      <!-- Uncomment below if you prefer to use an image logo -->
      <!-- <a href="index.html" class="logo me-auto"><img src="assets/img/logo.png" alt="" class="img-fluid"></a>-->

      <nav id="navbar" class="navbar order-last order-lg-0">
        <ul>
          <li><a href="index.html">Home</a></li>
          <li><a href="index.html#about">About</a></li>
          <li><a href="index.html#trainers">Team</a></li>
          <li><a class="active" href="documentation.html">Documentation</a></li>
          <li><a href="contact.html">Contact</a></li>
        </ul>
        <i class="bi bi-list mobile-nav-toggle"></i>
      </nav><!-- .navbar -->

    </div>
  </header><!-- End Header -->

  <main id="main">

    <!-- ======= Breadcrumbs ======= -->
    <div class="breadcrumbs" data-aos="fade-in">
      <div class="container">
        <h2>Project Documentation</h2>
        <p>Nesta secção é possivel analisar os detalhes da implementação e especificação do projeto, assim como os seus cenários de utilização, personas e objetivos. </p>
      </div>
    </div><!-- End Breadcrumbs -->

    <!-- ======= Cource Details Tabs Section ======= -->
    <section id="cource-details-tabs" class="cource-details-tabs">
      <div class="container" data-aos="fade-up">
	
	<br><br><br>	
        <div class="row">
          <div class="col-lg-3">
            <ul class="nav nav-tabs flex-column">
              <li class="nav-item">
                <a id="t1" class="nav-link active" onclick="changeTab(1)" data-toggle="tab-1" href="#tab-1">Objetivos e Motivação</a>
              </li>
              <li class="nav-item">
                <a id="t2" class="nav-link" onclick="changeTab(2)" data-toggle="tab-2" href="#tab-2">Cenários</a>
              </li>
              <li class="nav-item">
                <a id="t3" class="nav-link" onclick="changeTab(3)" data-toggle="tab-3" href="#tab-3">Personas</a>
              </li>
              <li class="nav-item">
                <a id="t4" class="nav-link" onclick="changeTab(4)" data-toggle="tab-4" href="#tab-4">Arquitetura</a>
              </li>
              <li class="nav-item">
                <a id="t5" class="nav-link" onclick="changeTab(5)" data-toggle="tab-5" href="#tab-5">Runtime</a>
              </li>
              <li class="nav-item">
                <a id="t6" class="nav-link" onclick="changeTab(6)" data-toggle="tab-6" href="#tab-6">Deployment CI/CD</a>
              </li>
              <li class="nav-item">
                <a id="t7" class="nav-link" onclick="changeTab(7)" data-toggle="tab-7" href="#tab-7">Monitoring</a>
              </li>
            </ul>
          </div>
          <div class="col-lg-9 mt-4 mt-lg-0">
            <div class="tab-content">
              <div class="tab-pane active show" id="tab-1">
                <div class="row">
                  <div class="col-lg-8 details order-2 order-lg-1">
                    <h3>Objetivos e Motivação</h3>
                    <p class="fst-italic">Objetivos e motivação para o desenvolvimento do projeto.</p>
                    <p>&emsp; Com o avançar da tecnologia, e o surgimento de novas maneiras de transmitir e monitorizar informação, não faz sentido que a comunicação entre membros das forças de bombeiros durante uma missão se mantenha resumida simplesmente a comunições VoIP, assim utilizando sensores do estado ambiente, localização e estado físico de bombeiros podemos fazer uma monitorização mais completa e em tempo real. Detetando possíveis situações de risco precossemente.</p></br>  
                    <p>&emsp; O objetivo principal do projeto tem em vista o auxílio no desempenho de missões por parte dos bombeiros, monitorizando o ambiente no qual se encontram, o seu batimento cardíaco e a sua posição ao longo do tempo.</p>
                    <p>&emsp; Para além da mostragem de informação em tempo real, também temso em vista o armazenamento da informação recolhida, para que esta possa ser analisada mais tarde. </p>
                  </div>

                </div>
              </div>
              <div class="tab-pane" id="tab-2">
                <div class="row">
                  <div class="col-lg-8 details order-2 order-lg-1">
                    <h3>Cenários</h3>
                    <p class="fst-italic">No desenvolvimento do serviço, tivemos em consideração os seguintes cenários de utilização:</p>
                    <p> <b>1.</b> Monitorização de bombeiros, durante o decorrer das suas missões. <p> &emsp; Neste cenário inclui-se a apresentação de informação útil tal como o batimento cardíaco e a posição de cada bombeiro, bem como os níveis de humidade do ar, temperatura, e a bateria dos sensores desde o ínicio da missão, para a monitorização dos bombeiros em real-time.</p></p> 
                    <p> <b>2.</b> Armazenamento de informação relativa a missões passadas. <p> &emsp; Neste cenário inclui-se a recolha e armazenamento numa base de dados informação proveniente dos sensors dos bombeiros para estudo e aprendizagem futura de situações de possível risco.</p></p>
                    <p> <b>3.</b> Notificação de situações de emergência, e/ou dificuldade técnica. <p> &emsp; Neste cenário está previsto o envio de um alarme de notificação caso alguma situação anormal ou de perigo seja detetada, como por exemplo, batimentos cardíacos anormais, valores de humidade do ar, assim como baterias fracas.</p></p>
                  </div>
                </div>
              </div>
              <div class="tab-pane" id="tab-3">
                <div class="row">
                  <div class="col-lg-8 details order-2 order-lg-1">
                    <h3>Personas</h3>
                    <p class="fst-italic">Para um desenvolvimento mais focado nas funcionalidades e utilidade destas, foram identificadas duas personas como objetivos de utilização do sistema diferentes.</p></br>
                    <p><b>António Ribeiro</b></p>
                    <p> &emsp; António é um homem de 55 anos, casado, com 2 filhos e é comandante nos Bombeiros Voluntários de Viseu. Precisa de monitorizar eficientemente os bombeiros em seu comando, quando se encontram em missão, e comunicações VoIP não são o método mais adequado uma vez que estes requerem dos bombeiros em missão participação ativa na comunicação para transmitirem o seu estado e o do ambiente para os seus colegas e comandante.</p></br>
                    
                    <p><b>Paulo Loureiro</b></p>
                    <p> &emsp; Paulo é um homem de 27 anos, solteiro e é bombeiro nos Bombeiros Voluntários de Viseu. Quer rever o seu comportamento e estado durante a missão anterior na qual participou, para de acordo com a sua experiência durante a missão possa avaliar e identificar situações de potencial risco em que esteve para que estas possam ser notificadas futuramente.</p>
                  </div>
                </div>
              </div>
              <div class="tab-pane" id="tab-4">
                <div class="row">
                  <div class="col-lg-8 details order-2 order-lg-1">
                    <h3>Arquitetura</h3>
                    <p class="fst-italic">Arquitetura do sistema desenvolvido.</p>
                    <p><img src="assets/img/arquitetura.png" alt="" class="img-fluid"></p>
                    <p> <b>Sensor Data:</b> Os dados recolhidos pelos sensores são enviados com recurso a um script escrito em Python que faz o papel de um producer de Kafka, enviando os dados para um tópico de Kafka (ESP33_SensorData).</p></p> 
                    <p> <b>Back-Office Application:</b> Aplicação Spring boot que é responsável pela interligação dos restantes componentes, pussui um receiver e um producer de Kafka, que está a receber dados no tópico para o qual o script Python está a enviar. Estes dados são processados e quando detetada uma situação de perigo são enviados pelo producer para o tópico de Kafka ESP33_Alerts.</p></p> 
                    <p> <b>Front-end Application:</b> Aplicação responsável por apresentar os dados recebidos e processados, para uso por parte dos clientes, tem uma secção para dados em tempo real onde serão também apresentados os alarmes e eventos relativos ás situações de perigo, e outra onde é possivel verificar os dados de missões passadas, estes dados serão recebidos de dois modos, dados em tempo real são recebidos por um cliente Kafka e os dados do histórico são recebidos através da Base de Dados InfluxDB.</p></p> 
                    <p> <b>Database:</b> Base de dados InfluxDB, onde são armazenados os dados recebidos em tempo real, para uso e estudo futuro. Estará ligada á aplicação Front-end para disponibilizar quando pedidos os dados de missões passadas e as posições atuais realtime de cada bombeiro.</p></p>
                    <p> <b>Realtime Dashboard:</b> Dashboard Grafana, na qual são apresentados os dados detalhados em tempo real acerca de cada bombeiro. Recebe os útlimos dados inseridos na base de dados Influx, atualizando os a cada 5 segundos.</p></p> 
                  </div>
                </div>
              </div>
              <div class="tab-pane" id="tab-5">
                <div class="row">
                  <div class="col-lg-8 details order-2 order-lg-1">
                    <h3>Runtime</h3>
                    <p class="fst-italic">Nesta secção é descrita a implementação mais em detalhe, bem como a divisão dos componentes pelo sistema.</p>
                    <p>Na nossa implementação optamos por adotar uma arquitetura baseada em <b>microserivços</b> onde cada serviço tem uma função. Deste modo temos um controlo superior sobre os diversos componentes da aplicação e torna-se assim mais fácil fazer a sua manutenção e monitorização.</p>
                    <br>
                    <p><b>Detalhes de implementação:</b></p>
                    
                    <table class="table" style="table-layout:fixed">
                    	<tr>
                    		<th>Component</th>
                    		<th>Technology</th>
                    		<th>Runtime</th>
                    		<th>Purpose</th>
                    	</tr>
                    	<tr>
                    		<td>Kafka</td>
                    		<td>Apache Kafka</td>
                    		<td>Apache Kafka Message Broker, presente na VM Runtime ( 192.168.160.18 ) instalado pelo professor. Foram criados dois tópicos ESP33_SensorData e ESP33_Alerts.</td>
                    		<td>Componente responsável pelo armazenamento de dados da aplicação, vindos dos Sensores.</td>
                    	</tr>
                    	<tr>
                    		<td>InfluxDB</td>
                    		<td>InfluxDB</td>
                    		<td>Base de dados esp33_firefighters, presente na InfluxDB instalado pelo professor na VM Runtime. ( 192.168.160.18 )</td>
                    		<td>Componente responsável pelo armazenamento de dados da aplicação, vindos dos Sensores.</td>
                    	</tr>
                    	<tr>
                    		<td>rest-service</td>
                    		<td>Spring Boot, Java</td>
                    		<td>Encontra se a correr num container de Docker chamado esp33_rest-service, na VM Playground no porto 33002. <small>192.168.160.87:33002</small></td>
                    		<td>App responsável pela análise dos dados provenientes dos sensores que se encontra no tópico ESP33_SensorData de Kafka. Envia posteriormente os dados para a Base de Dados InfluxDB do sistema. Também pussui um gerador de alertas, baseado na análise feita dos dados recebidos, estes alertas são enviados para o tópico ESP33_Alerts de Kafka.</td>
                    	</tr>
                    	<tr>
                    		<td>esp33_frontEndApp</td>
                    		<td>Spring Boot, Java</td>
                    		<td>Encontra se a correr num container de Docker chamado esp33_frontendapp, na VM Playground no porto 33003. <small>192.168.160.87:33003</small></td>
                    		<td>App responsável pela apresentação dos dados existentes na base de dados no path "/historic", bem como apresentação em tempo real das posições de cada Bombeiro num mapa no path "/realtime". Neste último também são mostrados alertas quando estes surgem no tópico ESP33_Alerts.</td>
                    	</tr>
                    	<tr>
                    		<td>Grafana Dashboard</td>
                    		<td>Grafana</td>
                    		<td>Encontra se a correr num container de Docker chamado esp33_grafana, na VM Playground no porto 33001. <small>192.168.160.87:33001</small></td>
                    		<td>Dashboard de controlo das estatísticas importantes (batimento cardíaco, humidade, temperatura, etc..) acerca de cada bombeiro, em gráficos. Dados estes recebidos em tempo real, vindos da base de dados InfluxDB.</td>
                    	</tr>
                    </table>
                  </div>
                </div>
              </div>
              <div class="tab-pane" id="tab-6">
                <div class="row">
                  <div class="col-lg-8 details order-2 order-lg-1">
                    <h3>Deployment CI/CD</h3>
                    <p class="fst-italic">Apresentação e descrição do nosso pipeline Jenkins.</p>
                    <br>
                    <p><img src="assets/img/Pipeline.png" alt="" class="img-fluid"></p>
                    <br>
                    <p><b>Detalhes de cada etapa:</b></p>
                    
                    <table class="table" style="table-layout:fixed">
                    	<tr>
                    		<th>Stage</th>
                    		<th>Purpose</th>
                    		<th>Used Tools</th>
                    	</tr>
                    	<tr>
                    		<td>Tool Install</td>
                    		<td>Instânciação e inicialização das variáveis e ferramentas necessárias á execução do Pipeline.</td>
                    		<td>SSH Command</td>
                    	</tr>
                    	<tr>
                    		<td>Clone Repository</td>
                    		<td>Copia todo o código fonte necessário para a VM de implementação, presente no repositório de desenvolvimento.</td>
                    		<td>Git</td>
                    	</tr>
                    	<tr>
                    		<td>Build</td>
                    		<td>Nesta fase do Pipeline é feita a compilação de cada uma dos componentes clonados anteriormente e são gerados os fat jars para as apps rest-service e esp33_frontEndApp.</td>
                    		<td>Maven, JDK 11</td>
                    	</tr>
                    	<tr>
                    		<td>Testing</td>
                    		<td>Corre os testes de Maven para as aplicações Spring Boot (rest-service, esp33_frontEndApp).</td>
                    		<td>Maven, JDK 11</td>
                    	</tr>
                    	<tr>
                    		<td>Build and Deploy images to registry</td>
                    		<td>Nesta etapa são construídas as imagens Docker, a partir dos ficheiros Dockerfile de cada componente e é feito o push dessas imagens para o registry.</td>
                    		<td>Docker</td>
                    	</tr>
                    	<tr>
                    		<td>Remote SSH</td>
                    		<td>Efetuado o <i>docker pull</i> da imagem do registry e de seguida <i>docker run</i> na VM de deployment (Playground).</td>
                    		<td>SSH Command</td>
                    	</tr>
                    </table>
                    <br>
                    <h4>Requisitos</h4>
                    <p class="fst-italic">Requisitos/containers necessários para correr o Pipeline Jenkins corretamente.</p>
                    <p>
                    	<ul>
                    		<li>Apache Kafka Broker a correr no porto 19092.</li>
                    		<li>InfluxDB a correr no porto 8086.</li>
                    	</ul>
                    </p>
                  </div>
                </div>
              </div>
              <div class="tab-pane" id="tab-7">
                <div class="row">
                  <div class="col-lg-8 details order-2 order-lg-1">
                    <h3>Monitoring</h3>
                    <p class="fst-italic">Para um bom acompanhamento e update continuo do serviço é necessário monitorizar o sistema. Detalhes da nossa implementação de monitorização.</p></br>
                    <p><b>ELK ( Elastic Search, Logstash, Kibana )</b></p>
                    <p> &emsp; Para o nosso sistema, foi decidido utilizar um processo de monitorização baseado em ELK. No qual, os <i>Logs</i> gerados pelo nosso sistema são armazenados e processados. A partir da informação contida nos <i>Logs</i> é possível ter uma visão generalizada do funcionamento da aplicação. É possível verificar dados recebidos/enviados entre os diferentes componentes do sistema, bem como acompanhar o processo de operação do sistem para determinadas ações do utilizador.</p>
                    <p> &emsp; Esta informação fica disponível em 192.168.160.18:5601/app/management/kibana/ onde é possível verificar as métricas obtidas.</p>
                    <p>_____________________________________________________________________________________________</p>
                    <p>No entanto, apesar das diversas tentativas por parte do grupo não foi possível implementar o sistema de monitorização ELK com sucesso.</p>
                    </br>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

      </div>
    </section><!-- End Cource Details Tabs Section -->

  </main><!-- End #main -->

  <!-- ======= Footer ======= -->
  <footer id="footer">

    <div class="container d-md-flex py-4">

      <div class="me-md-auto text-center text-md-start">
        <div class="copyright">
          &copy; Copyright <strong><span>FireFighter Support</span></strong>. All Rights Reserved
        </div>
        <div class="credits">
          <!-- All the links in the footer should remain intact. -->
          <!-- You can delete the links only if you purchased the pro version. -->
          <!-- Licensing information: https://bootstrapmade.com/license/ -->
          <!-- Purchase the pro version with working PHP/AJAX contact form: https://bootstrapmade.com/mentor-free-education-bootstrap-theme/ -->
          Designed by <a href="https://bootstrapmade.com/">BootstrapMade</a>
        </div>
      </div>
      <div class="social-links text-center text-md-right pt-3 pt-md-0">
        <a href="#" class="twitter"><i class="bx bxl-twitter"></i></a>
        <a href="#" class="facebook"><i class="bx bxl-facebook"></i></a>
        <a href="#" class="instagram"><i class="bx bxl-instagram"></i></a>
        <a href="#" class="google-plus"><i class="bx bxl-skype"></i></a>
        <a href="#" class="linkedin"><i class="bx bxl-linkedin"></i></a>
      </div>
    </div>
  </footer><!-- End Footer -->

  <div id="preloader"></div>
  <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

  <!-- Vendor JS Files -->
  <script src="assets/vendor/aos/aos.js"></script>
  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="assets/vendor/php-email-form/validate.js"></script>
  <script src="assets/vendor/purecounter/purecounter.js"></script>
  <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>

  <!-- Template Main JS File -->
  <script src="assets/js/main.js"></script>
  
  <script>
  
  	function changeTab(tabNumber){
  	
  		var elem = "tab-"+ tabNumber;
  		var tab = document.getElementById(elem);
  		var lastTab = document.getElementsByClassName("show");
  		var lastLink = document.getElementsByClassName("active");
  		var elemLink = "t"+ tabNumber;
  		var alink = document.getElementById(elemLink);
  		
  		for (var i=0; i < lastLink.length; i++){
 
	  		if (lastLink[i].id.length == "2"){
	  			lastLink[i].classList.remove("active");
	  		}
	  	}
  		
  		lastTab[0].classList.remove("active");
   		lastTab[0].classList.remove("show");

  		tab.classList.add("active");
  		tab.classList.add("show");
  		
  		alink.classList.add("active");
  	
  	}
  	
  </script>

</body>

</html>
